<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CECY Ayuda</title>
  <link rel="icon" href="imagenes/logo.jpg" type="image/png">
  <link rel="stylesheet" href="Untitled-1.css" />
</head>
<body>
  <style>
  
  .nav {
    /*barra de navegaci√≥n superior. */
    width: 100%;
    /* Hace que el elemento ocupe el 100% del ancho de su contenedor padre. */
    padding: 15px;
    /* A√±ade un espacio de 15 p√≠xeles alrededor del contenido interno del 'nav', creando un relleno uniforme. */
    background-color: rgba(119, 23, 23, 0.5);
    /* Establece el color de fondo a un tono rojizo oscuro (119, 23, 23) con una opacidad del 50% (0.5), haci√©ndolo semitransparente. */
    text-align: left;
    /* Alinea el texto dentro de este contenedor a la izquierda. */
  }
  .nav .inicio {
    /* Estilos aplicados a un elemento con la clase 'inicio' que es un descendiente directo o indirecto de un elemento con la clase 'nav'. Esto podr√≠a ser un bot√≥n o enlace de "Inicio" dentro de la barra de navegaci√≥n. */
    color: #fff;
    /* Define el color del texto como blanco. */
    text-decoration: none;
    /* Elimina cualquier subrayado de texto, com√∫n en los enlaces. */
    font-weight: 700;
    /* Establece el grosor de la fuente a 700 (negrita). */
    font-size: 1.2em;
    /* Ajusta el tama√±o de la fuente a 1.2 veces el tama√±o de fuente del elemento padre. */
    padding: 11px 30px;
    /* A√±ade 11 p√≠xeles de relleno vertical (arriba y abajo) y 30 p√≠xeles de relleno horizontal (izquierda y derecha). */
    border-radius: 30px;
    /* Redondea completamente las esquinas del elemento, d√°ndole una forma de p√≠ldora o bot√≥n redondeado. */
    transition: background 0.3s, color 0.3s, box-shadow 0.3s;
    /* Define una transici√≥n suave de 0.3 segundos para las propiedades 'background', 'color' y 'box-shadow' cuando cambien. Esto crea un efecto de animaci√≥n al pasar el rat√≥n. */
    background: linear-gradient(90deg, #a4508b 0%, #f6d365 100%);
    /* Aplica un degradado lineal como fondo. Empieza con #a4508b (morado) al 0% y termina con #f6d365 (amarillo claro) al 100%, con una direcci√≥n de 90 grados (de izquierda a derecha). */
    box-shadow: 0 2px 8px rgba(164, 80, 139, 0.21);
    /* A√±ade una sombra al elemento: 0px horizontal, 2px vertical, 8px de desenfoque, y un color morado semitransparente. */
    border: 2px solid #fff3;
    /* Establece un borde s√≥lido de 2 p√≠xeles con un color blanco altamente transparente (#fff3). */
  }
  .nav .inicio:hover {
    /* Estilos aplicados al elemento '.nav .inicio' cuando el cursor del rat√≥n est√° sobre √©l. */
    background: linear-gradient(90deg, #f6d365 0%, #a4508b 100%);
    /* Invierte el degradado de fondo: ahora de amarillo a morado. */
    color: #232137;
    /* Cambia el color del texto a un gris muy oscuro, casi negro. */
    box-shadow: 0 0 12px #a4508b77;
    /* Modifica la sombra: sin desplazamiento, mayor desenfoque (12px), y un color morado m√°s visible. */
  }
  /* --- Estilo al pasar el mouse sobre los enlaces --- */
  /* Comentario general para la secci√≥n de estilos de hover de enlaces. */
  .navbar a:hover {
    /* Estilos aplicados a cualquier enlace (<a>) cuando el cursor est√° sobre √©l, SIEMPRE Y CUANDO ese enlace est√© dentro de un elemento con la clase 'navbar'.
       **¬°IMPORTANTE!** Hay una posible inconsistencia aqu√≠: si tu barra de navegaci√≥n es '.nav' (como se define arriba), este selector deber√≠a ser '.nav a:hover' para aplicarse a los enlaces dentro de ella. */
    background-color: #575757;
    /* Cambia el color de fondo del enlace a un gris oscuro al pasar el rat√≥n. */
    color: white;
    /* Asegura que el color del texto del enlace sea blanco para una mejor legibilidad sobre el fondo gris. */
  }
  
  body {
    /* Estilos aplicados a todo el cuerpo del documento HTML. */
    margin: 0;
    /* Elimina el margen predeterminado del navegador alrededor del cuerpo de la p√°gina. */
    padding: 0;
    /* Elimina el relleno predeterminado del navegador dentro del cuerpo de la p√°gina. */
    font-family: Arial, sans-serif;
    /* Establece la fuente de texto a Arial. Si no est√° disponible, usar√° una fuente gen√©rica sans-serif. */
    background-image: url("imagenes/fondo.jpg");
    /* Establece una imagen de fondo para el cuerpo de la p√°gina, buscando el archivo 'fondo.jpg' dentro de la carpeta 'imagenes'. */
    background-size: cover;
    /* Escala la imagen de fondo para que cubra todo el √°rea del cuerpo, recortando los bordes si es necesario. */
    background-position: center;
    /* Centra la imagen de fondo horizontal y verticalmente dentro del cuerpo. */
  }
  
  /* Contenedor central blanco */
  /* Comentario general para la secci√≥n del contenedor central. */
  .content {
    /* Estilos aplicados a cualquier elemento con la clase 'content'. Probablemente un √°rea principal de contenido. */
    background-color: rgb(21, 170, 158);
    /* Establece el color de fondo del contenedor a un tono verde azulado (teal). */
    padding: 40px;
    /* A√±ade un relleno de 40 p√≠xeles alrededor del contenido interno del contenedor. */
    border-radius: 12px;
    /* Redondea las esquinas del contenedor con un radio de 12 p√≠xeles. */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    /* Agrega una sombra al contenedor: 0px horizontal, 4px vertical, 15px de desenfoque, y un color negro semitransparente. */
    max-width: 700px;
    /* Limita el ancho m√°ximo del contenedor a 700 p√≠xeles, evitando que se estire demasiado en pantallas grandes. */
    margin: 60px auto;
    /* Establece un margen de 60 p√≠xeles en la parte superior e inferior, y margenes autom√°ticos a la izquierda y derecha para centrar el contenedor horizontalmente. */
  }
  
  h2 {
    /* Estilos aplicados a todos los encabezados de nivel 2 (<h2>). */
    text-align: center;
    /* Centra el texto de los encabezados <h2>. */
    color: #0e0505;
    /* Establece el color del texto de los encabezados <h2> a un gris casi negro. */
  }
  
  #formularioTest {
    /* Estilos aplicados al elemento con el ID 'formularioTest'. Esto es para un formulario o test espec√≠fico. */
    color: #080303;
    /* Establece el color del texto dentro del formulario a un gris muy oscuro, casi negro. */
  }
  
  #formularioTest p {
    /* Estilos aplicados a los p√°rrafos (<p>) que est√°n dentro del elemento con el ID 'formularioTest'. */
    font-weight: bold;
    /* Hace que el texto de estos p√°rrafos sea negrita. */
    margin-top: 20px;
    /* A√±ade un margen de 20 p√≠xeles encima de estos p√°rrafos. */
  }
  
  #formularioTest label {
    /* Estilos aplicados a las etiquetas (<label>) que est√°n dentro del elemento con el ID 'formularioTest'. */
    display: block;
    /* Hace que las etiquetas se comporten como elementos de bloque, ocupando todo el ancho disponible y haciendo que los siguientes elementos se coloquen en una nueva l√≠nea. */
    margin-left: 10px;
    /* A√±ade un margen de 10 p√≠xeles a la izquierda de las etiquetas. */
    margin-top: 5px;
    /* A√±ade un margen de 5 p√≠xeles encima de las etiquetas. */
  }
  
  #formularioTest input[type="radio"] {
    /* Estilos aplicados a los elementos <input> cuyo 'type' es "radio" y que est√°n dentro de '#formularioTest'. */
    margin-right: 8px;
    /* A√±ade un margen de 8 p√≠xeles a la derecha de los botones de radio, separ√°ndolos de su texto o etiquetas. */
  }
  
  #formularioTest button {
    /* Estilos aplicados a los elementos <button> que est√°n dentro del elemento con el ID 'formularioTest'. */
    background-color: #3498db;
    /* Establece el color de fondo del bot√≥n a un azul est√°ndar. */
    color: white;
    /* Define el color del texto del bot√≥n como blanco. */
    border: none;
    /* Elimina cualquier borde predeterminado del bot√≥n. */
    padding: 10px 20px;
    /* A√±ade un relleno de 10 p√≠xeles vertical y 20 p√≠xeles horizontal al bot√≥n. */
    border-radius: 5px;
    /* Redondea las esquinas del bot√≥n con un radio de 5 p√≠xeles. */
    cursor: pointer;
    /* Cambia el cursor a una mano (puntero) cuando se pasa sobre el bot√≥n, indicando que es clicable. */
    margin-top: 20px;
    /* A√±ade un margen de 20 p√≠xeles encima del bot√≥n. */
  }
  
  #formularioTest button:hover {
    /* Estilos aplicados a los botones dentro de '#formularioTest' cuando el cursor del rat√≥n est√° sobre ellos. */
    background-color: #2980b9;
    /* Cambia el color de fondo del bot√≥n a un azul m√°s oscuro al pasar el rat√≥n. */
  }
  
  #resultadoTest {
    /* Estilos aplicados al elemento con el ID 'resultadoTest'. Esto es para mostrar los resultados de un test. */
    margin-top: 30px;
    /* A√±ade un margen de 30 p√≠xeles encima del elemento de resultado. */
    font-weight: bold;
    /* Hace que el texto dentro de este elemento sea negrita. */
    text-align: center;
    /* Centra el texto dentro de este elemento. */
  }
  
  #barraProgreso {
    /* Estilos aplicados al elemento con el ID 'barraProgreso'. Probablemente un contenedor para una barra de progreso. */
    height: 15px;
    /* Establece la altura de la barra de progreso a 15 p√≠xeles. */
    background-color: #ddd;
    /* Define un color de fondo gris claro para la parte "vac√≠a" de la barra de progreso. */
    border-radius: 5px;
    /* Redondea las esquinas de la barra de progreso. */
    margin-top: 20px;
    /* A√±ade un margen de 20 p√≠xeles encima de la barra de progreso. */
    overflow: hidden;
    /* Oculta cualquier contenido que se desborde de los l√≠mites de la barra, √∫til para el relleno interno de la barra que se mueve. */
  }
  
  #barra {
    /* Estilos aplicados al elemento con el ID 'barra', que probablemente es la parte que "llena" la barra de progreso. */
    height: 100%;
    /* Hace que esta barra ocupe el 100% de la altura de su contenedor padre ('#barraProgreso'). */
    background-color: #4caf50;
    /* Establece un color de fondo verde para la parte "llena" de la barra. */
    width: 0%;
    /* Inicia el ancho de la barra en 0%. Esto se cambiar√° din√°micamente con JavaScript para mostrar el progreso. */
    border-radius: 5px;
    /* Redondea las esquinas de la barra, heredando la forma de su contenedor. */
  }
  
  #botonReiniciar {
    /* Estilos aplicados al elemento con el ID 'botonReiniciar'. */
    background-color: crimson;
    /* Establece el color de fondo del bot√≥n a un rojo intenso. */
    color: white;
    /* Define el color del texto del bot√≥n como blanco. */
    border: none;
    /* Elimina cualquier borde predeterminado del bot√≥n. */
    padding: 10px 20px;
    /* A√±ade un relleno de 10 p√≠xeles vertical y 20 p√≠xeles horizontal. */
    border-radius: 5px;
    /* Redondea las esquinas del bot√≥n. */
    cursor: pointer;
    /* Cambia el cursor a una mano al pasar sobre el bot√≥n. */
    display: block;
    /* Hace que el bot√≥n se comporte como un elemento de bloque, ocupando su propia l√≠nea. */
    margin: 30px auto 0;
    /* Centra el bot√≥n horizontalmente (margen auto) y le da un margen superior de 30 p√≠xeles, sin margen inferior. */
  }
  
  #botonReiniciar:hover {
    /* Estilos aplicados al bot√≥n con ID 'botonReiniciar' cuando el cursor del rat√≥n est√° sobre √©l. */
    background-color: darkred;
    /* Cambia el color de fondo del bot√≥n a un rojo m√°s oscuro al pasar el rat√≥n. */
  }
  </style>
<nav class="nav">
  <a href="cecy.html" class="inicio">Inicio</a>
  <!-- Bot√≥n para cambiar entre claro y oscuro -->
</nav>
  <!-- CONTENEDOR CENTRAL -->
  <div class="content">
    <h2>Test: ¬øReconoces una situaci√≥n de violencia?</h2>
<!-- Etiqueta para insertar el audio -->
<audio controls>
  <source src="audios/explicacion_del_test.ogg" type="audio/mpeg">
  Tu navegador no soporta el elemento de audio.
</audio>
<form id="formularioTest">
  <p>1. Si tu pareja te revisa el celular sin tu permiso, ¬øes violencia?</p>
  <label><input type="radio" name="q1" value="1"> S√≠, es invasi√≥n de privacidad</label>
  <label><input type="radio" name="q1" value="0"> No, est√° bien si conf√≠o en mi pareja</label>

  <p>2. Si alguien te grita o insulta constantemente, ¬øes normal en una relaci√≥n?</p>
  <label><input type="radio" name="q2" value="1"> No, es violencia verbal</label>
  <label><input type="radio" name="q2" value="0"> S√≠, a veces pasa</label>

  <p>3. Si una persona te obliga a hacer algo sexual que no quieres, ¬øqu√© es?</p>
  <label><input type="radio" name="q3" value="1"> Violencia sexual</label>
  <label><input type="radio" name="q3" value="0"> Una muestra de cari√±o</label>

  <p>4. Si tu pareja controla con qui√©n hablas o sales, ¬øes violencia?</p>
  <label><input type="radio" name="q4" value="1"> S√≠, es control y violencia</label>
  <label><input type="radio" name="q4" value="0"> No, es por amor o cuidado</label>

  <p>5. Si recibes amenazas de publicar fotos √≠ntimas tuyas, ¬øes violencia?</p>
  <label><input type="radio" name="q5" value="1"> S√≠, es violencia digital</label>
  <label><input type="radio" name="q5" value="0"> No, solo es una advertencia</label>

  <p>6. Si alguien te empuja o golpea durante una discusi√≥n, ¬øes un acto normal?</p>
  <label><input type="radio" name="q6" value="1"> No, es violencia f√≠sica</label>
  <label><input type="radio" name="q6" value="0"> S√≠, puede pasar enojados</label>

  <p>7. Tu pareja decide en todo momento c√≥mo debes vestirte, ¬øes violencia?</p>
  <label><input type="radio" name="q7" value="1"> S√≠, es violencia psicol√≥gica</label>
  <label><input type="radio" name="q7" value="0"> No, solo opina por mi bien</label>

  <button type="button" onclick="calcularResultado()">Ver resultado</button>
</form>

<!-- RESULTADO Y BARRA -->
<div id="resultadoTest"></div>
<div id="barraProgreso">
  <div id="barra"></div>
</div>

<!-- BOT√ìN REINICIAR -->
<button id="botonReiniciar" onclick="reiniciarTest()">Reiniciar Test</button>

<script>
// Mostrar resultado guardado si existe
document.addEventListener("DOMContentLoaded", () => {
  const resultadoGuardado = localStorage.getItem("resultadoTest");
  const progresoGuardado = localStorage.getItem("barraTest");
  if (resultadoGuardado) {
    document.getElementById("resultadoTest").innerHTML = resultadoGuardado;
  }
  if (progresoGuardado) {
    document.getElementById("barra").style.width = progresoGuardado;
  }
});

// Calcular el resultado del test
function calcularResultado() {
  const form = document.forms["formularioTest"];
  let puntuacion = 0;
  let respondidas = true;
  const total = 7; // N√∫mero de preguntas

  for (let i = 1; i <= total; i++) {
    const radios = form["q" + i];
    let respuesta = null;
    if (radios) {
      if (radios.length) { // m√°s de una opci√≥n
        for (let r of radios) {
          if (r.checked) respuesta = r.value;
        }
      } else {
        if (radios.checked) respuesta = radios.value;
      }
    }
    if (respuesta === null) {
      respondidas = false;
    }
    puntuacion += parseInt(respuesta || 0);
  }

  if (!respondidas) {
    alert("Por favor responde todas las preguntas.");
    return;
  }

  const resultado = document.getElementById("resultadoTest");
  const barra = document.getElementById("barra");
  const porcentaje = (puntuacion / total) * 100;
  let mensaje = "";

  if (puntuacion === total) {
    mensaje = "‚úÖ <b>¬°Excelente!</b> Reconoces claramente todas las se√±ales de violencia.";
    resultado.style.color = "green";
  } else if (puntuacion >= total - 2) {
    mensaje = "üü° <b>¬°Bien!</b> Tienes un buen conocimiento, pero a√∫n puedes informarte m√°s.";
    resultado.style.color = "#fba400";
  } else if (puntuacion >= total / 2) {
    mensaje = "‚ö†Ô∏è <b>Atenci√≥n:</b> Algunas formas de violencia pueden pasar desapercibidas. Inf√≥rmate y busca apoyo.";
    resultado.style.color = "#e67e22";
  } else {
    mensaje = "üö® <b>Urgente:</b> Es muy importante que aprendas a reconocer la violencia. ¬°Inf√≥rmate y busca ayuda!";
    resultado.style.color = "red";
  }

  resultado.innerHTML = mensaje;
  barra.style.width = porcentaje + "%";
  // Guarda resultado y progreso
  localStorage.setItem("resultadoTest", mensaje);
  localStorage.setItem("barraTest", porcentaje + "%");
}

// Limpia resultados y reinicia
function reiniciarTest() {
  localStorage.removeItem("resultadoTest");
  localStorage.removeItem("barraTest");
  location.reload();
}
</script>
</div>
</body>
</html>